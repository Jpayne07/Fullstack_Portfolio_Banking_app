{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./Styling/App.css';import'./Styling/Forms.css';import'./Styling/Modules.css';import Nav from'./Components/Nav';import{Outlet}from'react-router-dom';import Login from'./Pages/Login';import AppContext from'./AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const navigate=useNavigate();const{user,loading,setUser,setLoading}=useContext(AppContext);const[sessionChecked,setSessionChecked]=useState(false);useEffect(()=>{if(!loading&&!user){console.log(\"Loading in use effect:\",loading);console.log('User state:',user);navigate('/login');// Redirect only if not loading and user is null\n}},[loading,user,navigate]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Display loading indicator\n}if(!user)return/*#__PURE__*/_jsx(Login,{});if(!loading){return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Outlet,{})]});}}export default App;","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","Nav","Outlet","Login","AppContext","jsx","_jsx","jsxs","_jsxs","App","navigate","user","loading","setUser","setLoading","sessionChecked","setSessionChecked","console","log","children"],"sources":["/home/jacob/development/code/phase-5/p5-project/client/src/App.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\n\nimport './Styling/App.css'\nimport './Styling/Forms.css'\nimport './Styling/Modules.css'\nimport Nav from './Components/Nav';\nimport {Outlet } from 'react-router-dom';\nimport Login from './Pages/Login';\nimport AppContext from './AppContext';\n\n\n\n\nfunction App() {\n  const navigate=useNavigate()\n  const { user, loading, setUser, setLoading } = useContext(AppContext);\n  const [sessionChecked, setSessionChecked] = useState(false);\n\n  \n\n\n  useEffect(() => {\n    if (!loading && !user) {\n      console.log(\"Loading in use effect:\", loading)\n      console.log('User state:', user);\n      navigate('/login'); // Redirect only if not loading and user is null\n    }\n  }, [loading, user, navigate]);\n\n\n  if (loading) {\n    return <div>Loading...</div>; // Display loading indicator\n  }\n  if (!user) return <Login />;\n  if (!loading){\n  return (\n    <main>\n      <Nav />\n      <Outlet />\n    </main>\n  );\n}\n}\n\nexport default App\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,mBAAmB,CAC1B,MAAO,qBAAqB,CAC5B,MAAO,uBAAuB,CAC9B,MAAO,CAAAC,GAAG,KAAM,kBAAkB,CAClC,OAAQC,MAAM,KAAQ,kBAAkB,CACxC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAKtC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAACV,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAEW,IAAI,CAAEC,OAAO,CAAEC,OAAO,CAAEC,UAAW,CAAC,CAAGjB,UAAU,CAACO,UAAU,CAAC,CACrE,KAAM,CAACW,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAK3DD,SAAS,CAAC,IAAM,CACd,GAAI,CAACc,OAAO,EAAI,CAACD,IAAI,CAAE,CACrBM,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEN,OAAO,CAAC,CAC9CK,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEP,IAAI,CAAC,CAChCD,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CACF,CAAC,CAAE,CAACE,OAAO,CAAED,IAAI,CAAED,QAAQ,CAAC,CAAC,CAG7B,GAAIE,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAa,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CACA,GAAI,CAACR,IAAI,CAAE,mBAAOL,IAAA,CAACH,KAAK,GAAE,CAAC,CAC3B,GAAI,CAACS,OAAO,CAAC,CACb,mBACEJ,KAAA,SAAAW,QAAA,eACEb,IAAA,CAACL,GAAG,GAAE,CAAC,cACPK,IAAA,CAACJ,MAAM,GAAE,CAAC,EACN,CAAC,CAEX,CACA,CAEA,cAAe,CAAAO,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}