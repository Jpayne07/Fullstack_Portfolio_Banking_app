{"ast":null,"code":"import React,{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import AddNewAccountForm from'../Components/AddNewAccountForm';import AppContext from'../AppContext';import'../Styling/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddNewAccount(){const navigate=useNavigate();const{API_URL}=useContext(AppContext);const[errorState,setErrorState]=useState(false);function handleNewAccountSubmission(bank_name,account_value,account_type,setSubmitting){fetch(\"\".concat(API_URL,\"api/account\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({bank_name,account_value,account_type})}).then(r=>{if(r.ok){navigate('/accounts').then(document.location.reload());}else{console.log(\"Something went wrong\");setSubmitting(false);setErrorState(true);}});}return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"login_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"background_wrapper\",id:\"login\",style:{width:\"1200px\",maxWidth:\"600px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"_wrapper\",id:\"login\",style:{width:\"1200px\",maxWidth:\"600px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login_header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Bank Account\"}),errorState?/*#__PURE__*/_jsx(\"p\",{children:\"Invalid account information. Bank name must be less than 30 characters and account value must be positive.\"}):null]}),/*#__PURE__*/_jsx(AddNewAccountForm,{handleNewAccountSubmission:handleNewAccountSubmission})]})})})})});}export default AddNewAccount;","map":{"version":3,"names":["React","useState","useContext","useNavigate","AddNewAccountForm","AppContext","jsx","_jsx","jsxs","_jsxs","AddNewAccount","navigate","API_URL","errorState","setErrorState","handleNewAccountSubmission","bank_name","account_value","account_type","setSubmitting","fetch","concat","method","headers","body","JSON","stringify","then","r","ok","document","location","reload","console","log","children","className","id","style","width","maxWidth"],"sources":["/home/jacob/development/code/phase-5/p5-project/client/src/Pages/AddNewAccount.js"],"sourcesContent":["import React, { useState, useContext } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport AddNewAccountForm from '../Components/AddNewAccountForm';\nimport AppContext from '../AppContext';\nimport '../Styling/App.css'\n\nfunction AddNewAccount() {\n    const navigate = useNavigate();\n    const { API_URL } = useContext(AppContext);\n    const [errorState, setErrorState] = useState(false)\n    function handleNewAccountSubmission(bank_name, account_value, account_type, setSubmitting) {\n        fetch(`${API_URL}api/account`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({bank_name, account_value, account_type}),\n        })\n        .then((r) => {\n          if (r.ok) {\n            navigate('/accounts')\n            .then(document.location.reload())\n          \n          }\n          else {\n            console.log(\"Something went wrong\")\n            setSubmitting(false)\n            setErrorState(true)\n            \n          }})\n          \n      }\n\n\n  return (\n    <main>\n        <div className='login_wrapper'>\n          <div className='background_wrapper' id='login'style = {{width:\"1200px\", maxWidth:\"600px\"}}>\n            <div className='_wrapper' id='login' style = {{width:\"1200px\", maxWidth:\"600px\"}}> \n              <div className='login_content'>\n                <div className='login_header'><h2>Create New Bank Account</h2>\n                  {errorState?<p>Invalid account information. Bank name must be less than 30 characters and account value must be positive.</p>:null}\n                </div>\n                <AddNewAccountForm handleNewAccountSubmission={handleNewAccountSubmission}/>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n    \n    </main>\n  )\n}\n\nexport default AddNewAccount"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,iBAAiB,KAAM,iCAAiC,CAC/D,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,MAAO,oBAAoB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACrB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAES,OAAQ,CAAC,CAAGV,UAAU,CAACG,UAAU,CAAC,CAC1C,KAAM,CAACQ,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACnD,QAAS,CAAAc,0BAA0BA,CAACC,SAAS,CAAEC,aAAa,CAAEC,YAAY,CAAEC,aAAa,CAAE,CACvFC,KAAK,IAAAC,MAAA,CAAIT,OAAO,gBAAe,CAC7BU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACV,SAAS,CAAEC,aAAa,CAAEC,YAAY,CAAC,CAC/D,CAAC,CAAC,CACDS,IAAI,CAAEC,CAAC,EAAK,CACX,GAAIA,CAAC,CAACC,EAAE,CAAE,CACRlB,QAAQ,CAAC,WAAW,CAAC,CACpBgB,IAAI,CAACG,QAAQ,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAEnC,CAAC,IACI,CACHC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CACnCf,aAAa,CAAC,KAAK,CAAC,CACpBL,aAAa,CAAC,IAAI,CAAC,CAErB,CAAC,CAAC,CAAC,CAEP,CAGJ,mBACEP,IAAA,SAAA4B,QAAA,cACI5B,IAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5B5B,IAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAACC,EAAE,CAAC,OAAO,CAAAC,KAAK,CAAI,CAACC,KAAK,CAAC,QAAQ,CAAEC,QAAQ,CAAC,OAAO,CAAE,CAAAL,QAAA,cACxF5B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAACC,EAAE,CAAC,OAAO,CAACC,KAAK,CAAI,CAACC,KAAK,CAAC,QAAQ,CAAEC,QAAQ,CAAC,OAAO,CAAE,CAAAL,QAAA,cAC/E1B,KAAA,QAAK2B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B1B,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAAC5B,IAAA,OAAA4B,QAAA,CAAI,yBAAuB,CAAI,CAAC,CAC3DtB,UAAU,cAACN,IAAA,MAAA4B,QAAA,CAAG,4GAA0G,CAAG,CAAC,CAAC,IAAI,EAC/H,CAAC,cACN5B,IAAA,CAACH,iBAAiB,EAACW,0BAA0B,CAAEA,0BAA2B,CAAC,CAAC,EACzE,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAGJ,CAAC,CAEX,CAEA,cAAe,CAAAL,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}