{"ast":null,"code":"import _objectSpread from \"/home/jacob/development/code/phase-5/p5-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/jacob/development/code/phase-5/p5-project/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"dataEntry\", \"dataIndex\"],\n  _excluded2 = [\"cx\", \"cy\", \"lengthAngle\", \"lineWidth\", \"radius\", \"shift\", \"reveal\", \"rounded\", \"startAngle\", \"title\"];\nimport React, { useState, useEffect } from 'react';\nimport partialCircle from 'svg-partial-circle';\nfunction degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\nfunction valueBetween(value, min, max) {\n  if (value > max) return max;\n  if (value < min) return min;\n  return value;\n}\nfunction extractPercentage(value, percentage) {\n  return percentage / 100 * value;\n}\nfunction bisectorAngle(startAngle, lengthAngle) {\n  return startAngle + lengthAngle / 2;\n}\nfunction shiftVectorAlongAngle(angle, distance) {\n  const angleRadians = degreesToRadians(angle);\n  return {\n    dx: distance * Math.cos(angleRadians),\n    dy: distance * Math.sin(angleRadians)\n  };\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n/**\n * Conditionally return a prop or a function prop result\n */\nfunction functionProp(prop, payload) {\n  return typeof prop === 'function' ?\n  // @ts-expect-error: cannot find a way to type 2nd prop arg as anything-but-function\n  prop(payload) : prop;\n}\nfunction sumValues(data) {\n  let sum = 0;\n  for (let i = 0; i < data.length; i++) {\n    sum += data[i].value;\n  }\n  return sum;\n}\n// Append \"percentage\", \"degrees\" and \"startAngle\" to each data entry\nfunction extendData(_ref) {\n  let {\n    data,\n    lengthAngle: totalAngle,\n    totalValue,\n    paddingAngle,\n    startAngle: chartStartAngle\n  } = _ref;\n  const total = totalValue || sumValues(data);\n  const normalizedTotalAngle = valueBetween(totalAngle, -360, 360);\n  const numberOfPaddings = Math.abs(normalizedTotalAngle) === 360 ? data.length : data.length - 1;\n  const singlePaddingDegrees = Math.abs(paddingAngle) * Math.sign(totalAngle);\n  const degreesTakenByPadding = singlePaddingDegrees * numberOfPaddings;\n  const degreesTakenByPaths = normalizedTotalAngle - degreesTakenByPadding;\n  let lastSegmentEnd = 0;\n  const extendedData = [];\n  // @NOTE: Shall we evaluate percentage accordingly to dataEntry.value's sign?\n  for (let i = 0; i < data.length; i++) {\n    const dataEntry = data[i];\n    const valueInPercentage = total === 0 ? 0 : dataEntry.value / total * 100;\n    const degrees = extractPercentage(degreesTakenByPaths, valueInPercentage);\n    const startAngle = lastSegmentEnd + chartStartAngle;\n    lastSegmentEnd = lastSegmentEnd + degrees + singlePaddingDegrees;\n    extendedData.push(Object.assign({\n      percentage: valueInPercentage,\n      startAngle,\n      degrees\n    }, dataEntry));\n  }\n  return extendedData;\n}\nfunction ReactMinimalPieChartLabel(_ref2) {\n  let {\n    renderLabel,\n    labelProps\n  } = _ref2;\n  const label = renderLabel(labelProps);\n  // Default label\n  if (typeof label === 'string' || typeof label === 'number') {\n    const {\n        dataEntry,\n        dataIndex\n      } = labelProps,\n      props = _objectWithoutProperties(labelProps, _excluded);\n    return React.createElement(\"text\", _objectSpread({\n      dominantBaseline: \"central\"\n    }, props), label);\n  }\n  if (React.isValidElement(label)) {\n    return label;\n  }\n  return null;\n}\nfunction round(number) {\n  const divisor = 1e14; // 14 decimals\n  return Math.round((number + Number.EPSILON) * divisor) / divisor;\n}\nfunction evaluateTextAnchorPosition(_ref3) {\n  let {\n    labelPosition,\n    lineWidth,\n    labelHorizontalShift\n  } = _ref3;\n  const dx = round(labelHorizontalShift);\n  // Label in the vertical center\n  if (dx === 0) {\n    return 'middle';\n  }\n  // Outward label\n  if (labelPosition > 100) {\n    return dx > 0 ? 'start' : 'end';\n  }\n  // Inward label\n  const innerRadius = 100 - lineWidth;\n  if (labelPosition < innerRadius) {\n    return dx > 0 ? 'end' : 'start';\n  }\n  // Overlying label\n  return 'middle';\n}\nfunction makeLabelRenderProps(data, props) {\n  return data.map((dataEntry, index) => {\n    var _functionProp;\n    const segmentsShift = (_functionProp = functionProp(props.segmentsShift, index)) !== null && _functionProp !== void 0 ? _functionProp : 0;\n    const distanceFromCenter = extractPercentage(props.radius, props.labelPosition) + segmentsShift;\n    const {\n      dx,\n      dy\n    } = shiftVectorAlongAngle(bisectorAngle(dataEntry.startAngle, dataEntry.degrees), distanceFromCenter);\n    // This object is passed as argument to the \"label\" function prop\n    const labelRenderProps = {\n      x: props.center[0],\n      y: props.center[1],\n      dx,\n      dy,\n      textAnchor: evaluateTextAnchorPosition({\n        labelPosition: props.labelPosition,\n        lineWidth: props.lineWidth,\n        labelHorizontalShift: dx\n      }),\n      dataEntry,\n      dataIndex: index,\n      style: functionProp(props.labelStyle, index)\n    };\n    return labelRenderProps;\n  });\n}\nfunction renderLabels(data, props) {\n  const {\n    label\n  } = props;\n  if (label) {\n    return makeLabelRenderProps(data, props).map((labelRenderProps, index) => React.createElement(ReactMinimalPieChartLabel, {\n      key: \"label-\".concat(labelRenderProps.dataEntry.key || index),\n      renderLabel: label,\n      labelProps: labelRenderProps\n    }));\n  }\n}\nfunction makePathCommands(cx, cy, startAngle, lengthAngle, radius) {\n  const patchedLengthAngle = valueBetween(lengthAngle, -359.999, 359.999);\n  return partialCircle(cx, cy,\n  // center X and Y\n  radius, degreesToRadians(startAngle), degreesToRadians(startAngle + patchedLengthAngle)).map(command => command.join(' ')).join(' ');\n}\nfunction ReactMinimalPieChartPath(_ref4) {\n  let {\n      cx,\n      cy,\n      lengthAngle,\n      lineWidth,\n      radius,\n      shift = 0,\n      reveal,\n      rounded,\n      startAngle,\n      title\n    } = _ref4,\n    props = _objectWithoutProperties(_ref4, _excluded2);\n  const pathRadius = radius - lineWidth / 2;\n  //@NOTE This shift might be rendered as a translation in future\n  const {\n    dx,\n    dy\n  } = shiftVectorAlongAngle(bisectorAngle(startAngle, lengthAngle), shift);\n  const pathCommands = makePathCommands(cx + dx, cy + dy, startAngle, lengthAngle, pathRadius);\n  let strokeDasharray;\n  let strokeDashoffset;\n  // Animate/hide paths with \"stroke-dasharray\" + \"stroke-dashoffset\"\n  // https://css-tricks.com/svg-line-animation-works/\n  if (isNumber(reveal)) {\n    const pathLength = degreesToRadians(pathRadius) * lengthAngle;\n    strokeDasharray = Math.abs(pathLength);\n    strokeDashoffset = strokeDasharray - extractPercentage(strokeDasharray, reveal);\n  }\n  return React.createElement(\"path\", _objectSpread({\n    d: pathCommands,\n    fill: \"none\",\n    strokeWidth: lineWidth,\n    strokeDasharray: strokeDasharray,\n    strokeDashoffset: strokeDashoffset,\n    strokeLinecap: rounded ? 'round' : undefined\n  }, props), title && React.createElement(\"title\", null, title));\n}\nfunction combineSegmentTransitionsStyle(duration, easing, customStyle) {\n  // Merge chart's animation CSS transition with \"transition\" found to customStyle\n  let transition = \"stroke-dashoffset \".concat(duration, \"ms \").concat(easing);\n  if (customStyle && customStyle.transition) {\n    transition = \"\".concat(transition, \",\").concat(customStyle.transition);\n  }\n  return {\n    transition\n  };\n}\nfunction getRevealValue(_ref5) {\n  let {\n    reveal,\n    animate\n  } = _ref5;\n  //@NOTE When animation is on, chart has to be fully revealed when reveal is not set\n  if (animate && !isNumber(reveal)) {\n    return 100;\n  }\n  return reveal;\n}\nfunction makeEventHandler(eventHandler, payload) {\n  return eventHandler && (e => {\n    eventHandler(e, payload);\n  });\n}\nfunction renderSegments(data, props, revealOverride) {\n  // @NOTE this should go in Path component. Here for performance reasons\n  const reveal = revealOverride !== null && revealOverride !== void 0 ? revealOverride : getRevealValue(props);\n  const {\n    radius,\n    center: [cx, cy]\n  } = props;\n  const lineWidth = extractPercentage(radius, props.lineWidth);\n  const paths = data.map((dataEntry, index) => {\n    const segmentsStyle = functionProp(props.segmentsStyle, index);\n    return React.createElement(ReactMinimalPieChartPath, {\n      cx: cx,\n      cy: cy,\n      key: dataEntry.key || index,\n      lengthAngle: dataEntry.degrees,\n      lineWidth: lineWidth,\n      radius: radius,\n      rounded: props.rounded,\n      reveal: reveal,\n      shift: functionProp(props.segmentsShift, index),\n      startAngle: dataEntry.startAngle,\n      title: dataEntry.title,\n      style: Object.assign({}, segmentsStyle, props.animate && combineSegmentTransitionsStyle(props.animationDuration, props.animationEasing, segmentsStyle)),\n      stroke: dataEntry.color,\n      tabIndex: props.segmentsTabIndex,\n      onBlur: makeEventHandler(props.onBlur, index),\n      onClick: makeEventHandler(props.onClick, index),\n      onFocus: makeEventHandler(props.onFocus, index),\n      onKeyDown: makeEventHandler(props.onKeyDown, index),\n      onMouseOver: makeEventHandler(props.onMouseOver, index),\n      onMouseOut: makeEventHandler(props.onMouseOut, index)\n    });\n  });\n  if (props.background) {\n    paths.unshift(React.createElement(ReactMinimalPieChartPath, {\n      cx: cx,\n      cy: cy,\n      key: \"bg\",\n      lengthAngle: props.lengthAngle,\n      lineWidth: lineWidth,\n      radius: radius,\n      rounded: props.rounded,\n      startAngle: props.startAngle,\n      stroke: props.background\n    }));\n  }\n  return paths;\n}\nconst defaultProps = {\n  animationDuration: 500,\n  animationEasing: 'ease-out',\n  center: [50, 50],\n  data: [],\n  labelPosition: 50,\n  lengthAngle: 360,\n  lineWidth: 100,\n  paddingAngle: 0,\n  radius: 50,\n  startAngle: 0,\n  viewBoxSize: [100, 100]\n};\nfunction makePropsWithDefaults(props) {\n  const result = Object.assign({}, defaultProps, props);\n  // @NOTE Object.assign doesn't default properties with undefined value (like React defaultProps does)\n  let key;\n  for (key in defaultProps) {\n    if (props[key] === undefined) {\n      // @ts-expect-error: TS cannot ensure we're assigning the expected props accross abjects\n      result[key] = defaultProps[key];\n    }\n  }\n  return result;\n}\nfunction ReactMinimalPieChart(originalProps) {\n  const props = makePropsWithDefaults(originalProps);\n  const [revealOverride, setRevealOverride] = useState(props.animate ? 0 : null);\n  useEffect(() => {\n    if (props.animate) {\n      // Trigger initial animation\n      setRevealOverride(null);\n    }\n  }, []);\n  const extendedData = extendData(props);\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 \".concat(props.viewBoxSize[0], \" \").concat(props.viewBoxSize[1]),\n    width: \"100%\",\n    height: \"100%\",\n    className: props.className,\n    style: props.style\n  }, renderSegments(extendedData, props, revealOverride), renderLabels(extendedData, props), props.children);\n}\nexport { ReactMinimalPieChart as PieChart, defaultProps as pieChartDefaultProps };","map":{"version":3,"names":["degreesToRadians","degrees","Math","PI","valueBetween","value","min","max","extractPercentage","percentage","bisectorAngle","startAngle","lengthAngle","shiftVectorAlongAngle","angle","distance","angleRadians","dx","cos","dy","sin","isNumber","functionProp","prop","payload","sumValues","data","sum","i","length","extendData","_ref","totalAngle","totalValue","paddingAngle","chartStartAngle","total","normalizedTotalAngle","numberOfPaddings","abs","singlePaddingDegrees","sign","degreesTakenByPadding","degreesTakenByPaths","lastSegmentEnd","extendedData","dataEntry","valueInPercentage","push","Object","assign","ReactMinimalPieChartLabel","_ref2","renderLabel","labelProps","label","dataIndex","props","_objectWithoutProperties","_excluded","React","createElement","_objectSpread","dominantBaseline","isValidElement","round","number","divisor","Number","EPSILON","evaluateTextAnchorPosition","_ref3","labelPosition","lineWidth","labelHorizontalShift","innerRadius","makeLabelRenderProps","map","index","_functionProp","segmentsShift","distanceFromCenter","radius","labelRenderProps","x","center","y","textAnchor","style","labelStyle","renderLabels","key","concat","makePathCommands","cx","cy","patchedLengthAngle","partialCircle","command","join","ReactMinimalPieChartPath","_ref4","shift","reveal","rounded","title","_excluded2","pathRadius","pathCommands","strokeDasharray","strokeDashoffset","pathLength","d","fill","strokeWidth","strokeLinecap","undefined","combineSegmentTransitionsStyle","duration","easing","customStyle","transition","getRevealValue","_ref5","animate","makeEventHandler","eventHandler","e","renderSegments","revealOverride","paths","segmentsStyle","animationDuration","animationEasing","stroke","color","tabIndex","segmentsTabIndex","onBlur","onClick","onFocus","onKeyDown","onMouseOver","onMouseOut","background","unshift","defaultProps","viewBoxSize","makePropsWithDefaults","result","ReactMinimalPieChart","originalProps","setRevealOverride","useState","useEffect","viewBox","width","height","className","children"],"sources":["../src/utils.ts","../src/Chart/extendData.ts","../src/Label.tsx","../src/Chart/renderLabels.tsx","../src/Path.tsx","../src/Chart/renderSegments.tsx","../src/Chart/Chart.tsx"],"sourcesContent":[null,null,null,null,null,null,null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}