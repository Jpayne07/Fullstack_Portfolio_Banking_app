{"ast":null,"code":"import React,{useContext}from'react';import AppContext from'../AppContext';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BanksComponentv2(_ref){let{stylingContext}=_ref;const{loading,accounts}=useContext(AppContext);const navigate=useNavigate();const formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',trailingZeroDisplay:'stripIfInteger'});if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}const accountElement=accounts.length>0?accounts.sort((a,b)=>a.bank_id-b.bank_id)// need to only show first occurence\n.map(account=>{// for styling context on home page\nif(stylingContext===\"Normal\"){const accountValue=account.account_value;return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"15px 0\",textAlign:\"left\"},children:account.bank.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank_account_container\",children:[/*#__PURE__*/_jsx(\"h4\",{id:\"accountLinks\",children:/*#__PURE__*/_jsx(Link,{to:\"/account/\".concat(account.id),children:account.account_type})}),/*#__PURE__*/_jsx(\"p\",{children:formatter.format(accountValue)})]})]},account.id);}// for styling context on '/accounts' page\nelse{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{id:\"bank_name\",style:{padding:\"15px 0\",textAlign:\"left\"},children:account.bank.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank_account_container\",id:\"accountIndex\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{width:\"100%\",fontSize:\"1.5rem\"},children:/*#__PURE__*/_jsxs(Link,{to:\"/account/\".concat(account.id),style:{color:\"white\"},children:[\"Account Type: \",account.account_type]})}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.2rem\"},children:[\"Account Balance: \",formatter.format(account.account_value)]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\",width:\"100%\",fontSize:\"1.2rem\"},children:[\"Total Spending: $\",account.transactions.reduce((total,transaction)=>{return transaction.transaction_type===\"Negative\"?total+parseInt(transaction.amount):total;},0)// Initial value of total\n]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.2rem\"},children:[\"Card Ending in: #\",account.card.card_number.toString().slice(-4)]})]})]},account.id);}}):/*#__PURE__*/_jsx(\"p\",{children:\"No banks available.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"_wrapper\",id:\"login\",style:{padding:\"50px\",maxWidth:\"1200px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Accounts\"}),/*#__PURE__*/_jsx(\"div\",{className:stylingContext==='Normal'?'bank_id':'account_grid',children:accountElement}),/*#__PURE__*/_jsx(\"div\",{className:\"addAccountWrapper\",children:/*#__PURE__*/_jsx(\"button\",{className:\"addAccounts\",onClick:()=>navigate('/account/new'),children:\"Add Accounts\"})})]});}export default BanksComponentv2;","map":{"version":3,"names":["React","useContext","AppContext","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","BanksComponentv2","_ref","stylingContext","loading","accounts","navigate","formatter","Intl","NumberFormat","style","currency","trailingZeroDisplay","children","accountElement","length","sort","a","b","bank_id","map","account","accountValue","account_value","width","padding","textAlign","bank","name","className","id","to","concat","account_type","format","fontSize","color","transactions","reduce","total","transaction","transaction_type","parseInt","amount","card","card_number","toString","slice","maxWidth","onClick"],"sources":["/home/jacob/development/code/phase-5/p5-project/client/src/Components/BankComponentv2.js"],"sourcesContent":["import React, {useContext} from 'react'\nimport AppContext from '../AppContext';\nimport { Link, useNavigate } from 'react-router-dom';\n\n\nfunction BanksComponentv2({stylingContext}) {\n  const { loading, accounts } = useContext(AppContext)\n  const navigate = useNavigate();\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    trailingZeroDisplay: 'stripIfInteger'\n  });\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n  const accountElement = accounts.length > 0? accounts.sort((a, b) => a.bank_id - b.bank_id)\n  // need to only show first occurence\n  .map(account=>{\n    \n    // for styling context on home page\n    if(stylingContext===\"Normal\"){\n      const accountValue = (account.account_value)\n      return(\n\n        <div style={{width: \"100%\"}}key={account.id}>\n          <h2 style={{padding:\"15px 0\", textAlign:\"left\"}}>{account.bank.name}</h2>\n          <div className='bank_account_container'>\n              <h4 id = \"accountLinks\"><Link to={`/account/${account.id}`}>{account.account_type}</Link></h4>\n              <p>{formatter.format(accountValue)}</p>\n          </div>\n        </div>\n        \n      )\n  }\n  // for styling context on '/accounts' page\n  else{\n    \n    return(\n      <div key={account.id}>\n        <h2 id = 'bank_name' style={{padding:\"15px 0\", textAlign:\"left\"}} >{account.bank.name}</h2>\n        <div className='bank_account_container'\n\n          id = \"accountIndex\">\n          \n          <h4 style={{width:\"100%\", fontSize:\"1.5rem\"}}><Link to={`/account/${account.id}`} style = {{color:\"white\"}}>Account Type: {account.account_type}</Link></h4>\n          <p style={{fontSize:\"1.2rem\"}}>Account Balance: {formatter.format(account.account_value)}</p>\n          <p style={{ color: \"red\", width:\"100%\", fontSize:\"1.2rem\"}}>Total Spending: $\n            {\n              account.transactions.reduce((total, transaction) => {\n                return transaction.transaction_type === \"Negative\" ? total + parseInt(transaction.amount) : total}, 0) \n                  // Initial value of total\n            }\n          </p>\n          <p style={{fontSize:\"1.2rem\"}}>Card Ending in: #{account.card.card_number.toString().slice(-4)}</p>\n\n        </div>        \n      </div>\n  )\n  }}) : (\n  <p>No banks available.</p>\n  )\n  return (\n    <div className='_wrapper' id=\"login\" style={{padding:\"50px\", maxWidth:\"1200px\"}} >\n      <h1>Accounts</h1>\n      <div className={stylingContext==='Normal'?'bank_id':'account_grid'}>\n        {accountElement}\n      </div>\n      <div className='addAccountWrapper'>\n        <button className='addAccounts' onClick={()=> navigate('/account/new')}>Add Accounts</button>\n      </div>\n    </div>\n  )\n}\n\nexport default BanksComponentv2"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}