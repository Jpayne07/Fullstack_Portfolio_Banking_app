{"ast":null,"code":"import _objectSpread from\"/home/jacob/development/code/phase-5/p5-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AppContext=/*#__PURE__*/createContext();const API_URL_FROM_ENV=process.env.REACT_APP_API_URL;console.log(API_URL_FROM_ENV);const API_URL=API_URL_FROM_ENV?API_URL_FROM_ENV:'';export const AppProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(undefined);const[insights,setinsights]=useState([]);const[loading,setLoading]=useState(true);const[errors,setErrors]=useState([]);const[errorState,setErrorState]=useState(false);const[banks,setBanks]=useState([]);const[accounts,setAccounts]=useState([]);const[transactions,setTransactions]=useState([]);const[deleteState,setDeleteState]=useState(false);function handleLogin(username,password,setSubmitting,navigate){fetch(\"\".concat(API_URL,\"/api/bank/login\"),{method:\"POST\",credentials:'include',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})}).then(r=>{if(r.ok){r.json().then(data=>{setUser(data);setAccounts(data.accounts);const transactionsList=data.accounts.reduce((acc,account)=>{return[...acc,...account.transactions];},[]);setTransactions(transactionsList);navigate('/');});}else{r.json().then(err=>{setErrors([err.message||\"Invalid login credentials. Please try again.\"]);});}}).catch(err=>{setErrors([err.message||\"Network error. Please try again later.\"]);}).finally(()=>{setSubmitting(false);});}// this is for the login without signup\nfunction mockLogin(username,password,navigate){fetch(\"\".concat(API_URL,\"/api/bank/login\"),{method:\"POST\",credentials:'include',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})}).then(r=>{if(r.ok){r.json().then(data=>{setUser(data);setAccounts(data.accounts);const transactionsList=data.accounts.reduce((acc,account)=>{return[...acc,...account.transactions];},[]);setTransactions(transactionsList);navigate('/');});}else{r.json().then(err=>{setErrors([err.message||\"Invalid login credentials. Please try again.\"]);});}}).catch(err=>{setErrors([err.message||\"Network error. Please try again later.\"]);});}useEffect(()=>{let transactionCategories=[];accounts.forEach(account=>{account.transactions.forEach(transaction=>{if(transaction.type=\"Negative\"){if(transactionCategories[transaction.category]){transactionCategories[transaction.category]+=transaction.amount;}else{transactionCategories[transaction.category]=transaction.amount;}}});});setinsights(transactionCategories);},[user,accounts]);function handleNewAccountSubmission(bank_name,account_value,account_type,cardNumber,setSubmitting,navigate){console.log(account_type);fetch(\"\".concat(API_URL,\"/api/bank/accounts\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:'include',body:JSON.stringify({bank_name,account_value,account_type,cardNumber})}).then(r=>{if(r.ok){r.json().then(data=>{setAccounts([...accounts,data]);navigate('/accounts');});}else{r.json().then(err=>{setSubmitting(false);setErrorState(true);setErrors(err);});}}).catch(err=>{setErrors([err||\"Network error. Please try again later.\"]);});}function handleAccountDeletion(navigate,id){fetch(\"\".concat(API_URL,\"/api/bank/singular_account/\").concat(id),{method:\"DELETE\"}).then(()=>setDeleteState(true)).then(()=>{setLoading(true);navigate('/accounts');const newAccountSet=accounts.filter(account=>parseInt(account.id)!==parseInt(id));setAccounts(newAccountSet);setLoading(false);setTimeout(()=>{setDeleteState(false);},3000);});}useEffect(()=>{setLoading(true);fetch(\"\".concat(API_URL,\"/api/bank/check_session\"),{method:'GET',credentials:'include'}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{// Check if data contains a valid user_id or similar flag\nif(data.id){setUser(data);setAccounts(data.accounts);const transactionsList=data.accounts.reduce((acc,account)=>{return[...acc,...account.transactions];},[]);setTransactions(transactionsList);console.log(\"Transactions\",transactionsList);}else{setUser(null);}}).catch(error=>{console.error(\"Error fetching session:\",error);setUser(null);}).finally(()=>{setLoading(false);});},[]);// this will seed transactions on individual account pages\nfunction handleTransactionSeed(id){fetch(\"\".concat(API_URL,\"/api/bank/transactionseed\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({id})}).then(response=>response.json()).then(data=>{console.log(data);const accountID=data[0]['account_id'];setTransactions([...transactions,...data]);const accountToUpdate=accounts.find(account=>parseInt(account.id)===parseInt(accountID));if(accountToUpdate){// Create a new transactions array for the matching account\nconst updatedTransactions=[...accountToUpdate.transactions,...data];// Map over accounts to update the correct account immutably\nconst updatedAccounts=accounts.map(account=>parseInt(account.id)===parseInt(accountID)?_objectSpread(_objectSpread({},account),{},{transactions:updatedTransactions}):account);setAccounts(updatedAccounts);}}).catch(error=>console.error('Error:',error));}const handleTransactionDelete=(transactionID,accountID)=>{fetch(\"\".concat(API_URL,\"/api/bank/transaction/\").concat(transactionID),{method:'DELETE'}).then(()=>{const newTransactionList=transactions.filter(transaction=>parseInt(transaction.id)!==parseInt(transactionID));setTransactions(newTransactionList);});};return/*#__PURE__*/_jsx(AppContext.Provider,{value:{loading,transactions,banks,accounts,user,setUser,setLoading,handleLogin,deleteState,handleAccountDeletion,insights,errors,errorState,handleTransactionSeed,handleNewAccountSubmission,handleTransactionDelete,mockLogin,API_URL},children:children});};export default AppContext;","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","AppContext","API_URL_FROM_ENV","process","env","REACT_APP_API_URL","console","log","API_URL","AppProvider","_ref","children","user","setUser","undefined","insights","setinsights","loading","setLoading","errors","setErrors","errorState","setErrorState","banks","setBanks","accounts","setAccounts","transactions","setTransactions","deleteState","setDeleteState","handleLogin","username","password","setSubmitting","navigate","fetch","concat","method","credentials","headers","body","JSON","stringify","then","r","ok","json","data","transactionsList","reduce","acc","account","err","message","catch","finally","mockLogin","transactionCategories","forEach","transaction","type","category","amount","handleNewAccountSubmission","bank_name","account_value","account_type","cardNumber","handleAccountDeletion","id","newAccountSet","filter","parseInt","setTimeout","response","Error","error","handleTransactionSeed","accountID","accountToUpdate","find","updatedTransactions","updatedAccounts","map","_objectSpread","handleTransactionDelete","transactionID","newTransactionList","Provider","value"],"sources":["/home/jacob/development/code/phase-5/p5-project/client/src/AppContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect  } from 'react';\n\n\nconst AppContext = createContext();\nconst API_URL_FROM_ENV = process.env.REACT_APP_API_URL;\nconsole.log(API_URL_FROM_ENV)\nconst API_URL = API_URL_FROM_ENV ? API_URL_FROM_ENV:''\nexport const AppProvider = ({ children }) => {\n  const [user, setUser] = useState(undefined);\n  const [insights, setinsights] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [errors, setErrors] = useState([]);\n  const [errorState, setErrorState] = useState(false)\n  const [banks, setBanks] = useState([])\n  const [accounts, setAccounts] = useState([])\n  const [transactions, setTransactions] = useState([])\n  const [deleteState, setDeleteState] = useState(false)\n\n  function handleLogin(username, password, setSubmitting, navigate) {\n    \n    fetch(`${API_URL}/api/bank/login`, {\n      method: \"POST\",\n      credentials: 'include',\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((r) => {\n        if (r.ok) {\n          r.json().then((data) => {\n            setUser(data)\n            setAccounts(data.accounts)\n\n            const transactionsList = data.accounts.reduce((acc, account) => {\n              return [...acc, ...account.transactions];\n            }, []);\n\n            setTransactions(transactionsList)\n            navigate('/')\n          })\n        } else {\n          r.json().then((err) => {\n            setErrors([err.message || \"Invalid login credentials. Please try again.\"]);\n          });\n        }\n      })\n      .catch((err) => {\n        setErrors([err.message || \"Network error. Please try again later.\"]);\n      })\n      .finally(()=>{\n        setSubmitting(false)\n      })\n      \n  }\n  // this is for the login without signup\n  function mockLogin(username, password, navigate) {\n    fetch(`${API_URL}/api/bank/login`, {\n      method: \"POST\",\n      credentials: 'include',\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((r) => {\n        if (r.ok) {\n          r.json().then((data) => {\n            setUser(data)\n            setAccounts(data.accounts)\n\n            const transactionsList = data.accounts.reduce((acc, account) => {\n              return [...acc, ...account.transactions];\n            }, []);\n\n            setTransactions(transactionsList)\n            navigate('/')\n          });\n        } else {\n          r.json().then((err) => {\n            setErrors([err.message || \"Invalid login credentials. Please try again.\"]);\n          });\n        }\n      })\n      .catch((err) => {\n        setErrors([err.message || \"Network error. Please try again later.\"]);\n      })\n      \n  }\n  useEffect(()=>{\n  let transactionCategories =[]\n  accounts.forEach(account => {\n    account.transactions.forEach((transaction)=>{\n      if (transaction.type = \"Negative\"){\n        if (transactionCategories[transaction.category]){\n          transactionCategories[transaction.category] += transaction.amount;\n        }\n        else{\n          transactionCategories[transaction.category] = transaction.amount;\n        }\n      }\n    })\n  })\n  setinsights(transactionCategories)\n  },[user, accounts])\n  \n\n\nfunction handleNewAccountSubmission(bank_name,\n  account_value,\n  account_type,\n  cardNumber,\n  setSubmitting,\n  navigate) {\n    console.log(account_type)\n  fetch(`${API_URL}/api/bank/accounts`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    credentials: 'include',\n    body: JSON.stringify({bank_name, account_value, account_type, cardNumber}),\n  })\n    .then((r) => {\n      if (r.ok){\n        r.json()\n        .then((data)=>{\n          setAccounts([...accounts, data])\n          navigate('/accounts')\n        })\n      }\n      else {\n        r.json().then((err)=>{\n          setSubmitting(false)\n          setErrorState(true)\n          setErrors(err)\n\n        })\n      }\n    })\n    .catch((err) => {\n\n      setErrors([err || \"Network error. Please try again later.\"]);\n    })\n    \n}\n\n\n  function handleAccountDeletion(navigate, id){\n    fetch(`${API_URL}/api/bank/singular_account/${id}`,{\n      method:\"DELETE\"\n    })\n    .then(()=>setDeleteState(true))\n    .then(()=>{\n      setLoading(true)\n      navigate('/accounts')\n      const newAccountSet = accounts.filter((account)=>parseInt(account.id) !== parseInt(id))\n      setAccounts(newAccountSet)\n      setLoading(false)\n      setTimeout(() => {\n        setDeleteState(false);\n      }, 3000)}\n      \n      )\n      \n  }\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(`${API_URL}/api/bank/check_session`,{\n      method: 'GET',\n      credentials: 'include'\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(data => {\n        \n        // Check if data contains a valid user_id or similar flag\n        if (data.id) {\n          setUser(data);\n          setAccounts(data.accounts);\n          const transactionsList = data.accounts.reduce((acc, account) => {\n            return [...acc, ...account.transactions];\n          }, []);\n          setTransactions(transactionsList);\n          console.log(\"Transactions\", transactionsList)\n        } else {\n          setUser(null);\n        }\n      })\n      .catch(error => {\n        console.error(\"Error fetching session:\", error);\n        setUser(null);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  // this will seed transactions on individual account pages\n  function handleTransactionSeed(id) {\n    fetch(`${API_URL}/api/bank/transactionseed`, {\n        method: 'POST', \n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json',  \n        },\n        body: JSON.stringify({ id }),\n    })\n    .then(response => response.json())\n    .then(data=>{\n      console.log(data)\n      const accountID = data[0]['account_id']\n      setTransactions([...transactions, ...data])\n      const accountToUpdate = accounts.find(account => parseInt(account.id) === parseInt(accountID));\n\n      if (accountToUpdate) {\n        // Create a new transactions array for the matching account\n        const updatedTransactions = [...accountToUpdate.transactions, ...data];\n\n        // Map over accounts to update the correct account immutably\n        const updatedAccounts = accounts.map(account => \n          parseInt(account.id) === parseInt(accountID)\n            ? { ...account, transactions: updatedTransactions }\n            : account\n        );\n\n        setAccounts(updatedAccounts);\n      }\n\n\n    }\n      \n    )\n    .catch(error => console.error('Error:', error)); \n}\n  \nconst handleTransactionDelete=(transactionID, accountID)=>{\n  fetch(`${API_URL}/api/bank/transaction/${transactionID}`, { method: 'DELETE' })\n  .then(() => {\n    const newTransactionList = transactions.filter(transaction=>parseInt(transaction.id) !==parseInt(transactionID))\n    setTransactions(newTransactionList)\n\n  })\n}\n      \n\n  return (\n    <AppContext.Provider value={{loading,\n     transactions,\n     banks,\n     accounts,\n     user,\n     setUser,\n     setLoading,\n     handleLogin,\n     deleteState,\n     handleAccountDeletion,\n     insights,\n     errors,\n     errorState,\n     handleTransactionSeed,\n     handleNewAccountSubmission,\n     handleTransactionDelete,\n     mockLogin, \n     API_URL }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}