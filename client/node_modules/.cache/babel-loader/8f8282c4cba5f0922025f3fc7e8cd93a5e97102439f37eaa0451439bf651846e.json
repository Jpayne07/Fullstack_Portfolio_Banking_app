{"ast":null,"code":"import React,{useContext}from'react';import AppContext from'../AppContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BanksComponentv2(_ref){let{stylingContext}=_ref;const{loading,user}=useContext(AppContext);const navigate=useNavigate();const formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',trailingZeroDisplay:'stripIfInteger'});if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}const accountElement=user.accounts.length>0?user.accounts.sort((a,b)=>a.bank_id-b.bank_id)// need to only show first occurence\n.map(account=>{// for styling context on home page\nif(stylingContext===\"Normal\"){const accountValue=account.account_value;return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"15px 0\",textAlign:\"left\"},children:account.bank.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank_account_container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"account/\".concat(account.id),children:account.account_type})}),/*#__PURE__*/_jsx(\"p\",{children:formatter.format(accountValue)})]})]},account.id);}// for styling context on '/accounts' page\nelse{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"15px 0\",textAlign:\"left\"},children:account.bank.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank_account_container\"// div styling\n,style:{padding:\"20px\",width:\"100%\",flexWrap:\"wrap\",alignContent:\"center\",gap:\"25px\",backgroundImage:\"linear-gradient(to right,grey,white)\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"h4\",{style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"a\",{href:\"account/\".concat(account.id),children:[\"Account Type: \",account.account_type]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Account Balance: \",formatter.format(account.account_value)]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\",width:\"100%\"},children:[\"Total Spending: $\",account.transactions.reduce((total,transaction)=>{return transaction.transaction_type===\"Negative\"?total+parseInt(transaction.amount):total;},0)// Initial value of total\n]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Card Ending in: #\",account.card.card_number.toString().slice(-4)]})]})]});}}):/*#__PURE__*/_jsx(\"p\",{children:\"No banks available.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"_wrapper\",id:\"login\",style:{padding:\"50px\",maxWidth:\"1200px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Accounts\"}),/*#__PURE__*/_jsx(\"div\",{className:stylingContext==='Normal'?'bank_id':'account_grid',children:accountElement}),/*#__PURE__*/_jsx(\"button\",{className:\"addAccounts\",onClick:()=>navigate('/add_account'),children:\"Add Accounts\"})]});}export default BanksComponentv2;","map":{"version":3,"names":["React","useContext","AppContext","useNavigate","jsx","_jsx","jsxs","_jsxs","BanksComponentv2","_ref","stylingContext","loading","user","navigate","formatter","Intl","NumberFormat","style","currency","trailingZeroDisplay","children","accountElement","accounts","length","sort","a","b","bank_id","map","account","accountValue","account_value","width","padding","textAlign","bank","name","className","href","concat","id","account_type","format","flexWrap","alignContent","gap","backgroundImage","borderRadius","color","transactions","reduce","total","transaction","transaction_type","parseInt","amount","card","card_number","toString","slice","maxWidth","onClick"],"sources":["/home/jacob/development/code/phase-5/p5-project/client/src/Components/BankComponentv2.js"],"sourcesContent":["import React, {useContext} from 'react'\nimport AppContext from '../AppContext';\nimport { useNavigate } from 'react-router-dom';\n\nfunction BanksComponentv2({stylingContext}) {\n  const { loading, user } = useContext(AppContext)\n  const navigate = useNavigate();\n\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    trailingZeroDisplay: 'stripIfInteger'\n  });\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n  \n  const accountElement = user.accounts.length > 0? user.accounts.sort((a, b) => a.bank_id - b.bank_id)\n  // need to only show first occurence\n  .map(account=>{\n    // for styling context on home page\n    if(stylingContext===\"Normal\"){\n      const accountValue = (account.account_value)\n      return(\n\n        <div style={{width: \"100%\"}}key={account.id}>\n          <h2 style={{padding:\"15px 0\", textAlign:\"left\"}}>{account.bank.name}</h2>\n          <div className='bank_account_container'>\n              <h4 ><a href={`account/${account.id}`}>{account.account_type}</a></h4>\n              <p>{formatter.format(accountValue)}</p>\n          </div>\n        </div>\n        \n      )\n  }\n  // for styling context on '/accounts' page\n  else{\n    \n    return(\n      <div>\n        <h2 style={{padding:\"15px 0\", textAlign:\"left\"}}>{account.bank.name}</h2>\n        <div className='bank_account_container'\n          // div styling\n          style={{ padding:\"20px\",\n          width: \"100%\",\n          flexWrap:\"wrap\",\n          alignContent:\"center\",\n          gap:\"25px\",\n          backgroundImage: \"linear-gradient(to right,grey,white)\",\n          borderRadius:\"10px\"}}>\n          \n          <h4 style={{width:\"100%\"}}><a href={`account/${account.id}`}>Account Type: {account.account_type}</a></h4>\n          <p>Account Balance: {formatter.format(account.account_value)}</p><br></br>\n          <p style={{ color: \"red\", width:\"100%\"}}>Total Spending: $\n            {\n              account.transactions.reduce((total, transaction) => {\n                return transaction.transaction_type === \"Negative\" ? total + parseInt(transaction.amount) : total}, 0) \n                  // Initial value of total\n            }\n          </p>\n          <p>Card Ending in: #{account.card.card_number.toString().slice(-4)}</p>\n\n        </div>        \n      </div>\n  )\n  }}) : (\n  <p>No banks available.</p>\n  )\n  return (\n    <div className='_wrapper' id=\"login\" style={{padding:\"50px\", maxWidth:\"1200px\"}}>\n      <h1>Accounts</h1>\n      <div className={stylingContext==='Normal'?'bank_id':'account_grid'}>\n        {accountElement}\n      </div>\n      <button className='addAccounts' onClick={()=> navigate('/add_account')}>Add Accounts</button>\n    </div>\n  )\n}\n\nexport default BanksComponentv2"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}